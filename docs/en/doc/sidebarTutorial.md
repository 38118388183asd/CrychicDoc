---
layout: doc
title: Sidebar Configuration Tutorial
---
# VitePress Sidebar Configuration Guide {#guide}

## Overview {#info}

For various reasons, all sidebars on this site are generated by a sidebar generator developed by the development team. The sidebar plugin provided by VitePress is not used. The following provides a detailed explanation of the sidebar generator configuration.

## Structure and Principles {#principle}

The entry point of the sidebar generator is the `index.ts` file, located at `CrychicDoc/.vitepress/index.ts`.

The code structure is as follows:

::: code-group

```ts [Core Code]
const dirs = [
  "modpack/kubejs"
];
```

```ts{6-8} [Complete Code]
import sidebar from "./utils/sidebarGenerator"
import md from "./utils/mdParser"
import Path from "path";
import fs from "fs";

const dirs = [// [!code focus:3]
  "modpack/kubejs"
];

export default function sidebars(lang: string): {} {
  let ISidebar = {};
  dirs.forEach(dir => {
    const generator = new sidebar(`docs/${lang}/${dir}`, true);
    ISidebar[`${lang}/${dir}/`] = [generator.sidebar]
  })
  return ISidebar;
}
function logger(string: string, name: string): void {
  fs.writeFileSync(Path.join(__dirname, name), `${string}\n`, { flag: 'w+' });
}
```

:::

When you need to add a new directory for automatic scanning, you should add the new path string to this array. The newly added path will be scanned and the corresponding sidebar will be generated and displayed in the corresponding subdomain.

::: info Example

The sidebar generated for `modpack/kubejs` will appear at `https://docs.mihono.cn/<lang>/modpack/kubejs`.

:::

::: warning Note

The path string should not include the `docs/<lang>` directory. 
Before adding a path, make sure it actually exists.

:::

### File Scanning {#file-scan}

The files in the target directory will be automatically scanned by the generator and the corresponding sidebar will be generated. Each file has the following [frontmatter](#frontmatter) configuration fields.

::: tip Tip

This site also supports the native frontmatter style of VitePress. For more details, please refer to [here](https://vitepress.dev/zh/reference/frontmatter-config).

:::

| Configuration Field | Purpose                                      | Type     | Default |
|---------------------|----------------------------------------------|----------|---------|
| `title`             | Sets the title displayed in the sidebar       | string   | `N/A`   |
| `noguide`           | Sets whether the file should be added to the sidebar | boolean  | `false` |
| `authors`           | Sets the authors of the file (GitHub usernames), displayed below the page navigation bar | string[] | `N/A`   |

::: details Example

```yaml
---
title: Example

authors:
  - M1hono
  - skyraah
---
```

:::

### Directory Scanning {#dir-scan}

In the generator used on this site, directories are not automatically scanned recursively. You need to create an `index.md` file in the parent directory of the target directory and configure its [frontmatter](#frontmatter) to manually specify which directories should be entered and scanned.

#### Parsing {#index}

The frontmatter in `index.md` supports additional configuration fields besides the regular file configuration format. It also reads an `<Object>` object named `root`, with the following configuration fields and code declaration.

:::: details Code Declaration

::: code-group

```ts [root object]
interface Index {
  root: {
    title: string,
    collapsed?: boolean; 
    subDir: SubDir[]
  }
}
```

```ts [SubDir object]
interface SubDir {
  title: string;
  path: string;
  noScan?: boolean;
  collapsed?: boolean;
  file?: string;
}
```

:::

::::

::: tabs

== root

| Configuration Field | Purpose                                      | Type     | Default |
|---------------------|----------------------------------------------|----------|---------|
| `title`             | Sets the name of the sidebar                  | string   | `N/A`   |
| `collapsed`         | Sets whether the sidebar is initially collapsed or expanded, leave empty to disable collapsing | boolean  | `N/A`   |
| `subDir`            | Sets which subdirectories should be recursively scanned under this directory | SubDir   | `N/A`   |
  
== SubDir

| Configuration Field | Purpose                                      | Type     | Default |
|---------------------|----------------------------------------------|----------|---------|
| `title`             | Sets the name of the subdirectory             | string   | `N/A`   |
| `collapsed`         | Sets whether the subdirectory is initially collapsed or expanded, leave empty to disable collapsing | boolean  | `N/A`   |
| `path`              | Sets the path of the subdirectory             | string   | `N/A`   |
| `noScan`            | Sets whether the directory should be automatically scanned | boolean  | `false` |
| `file`              | Sets the file to be linked with the subdirectory name, the file should be located within the subdirectory | string   | `N/A`   |

:::

::: details Example

```yaml
---

root:
  title: example
  collapsed: true
  subDir:
    - title: subDir a
    path: test
    collapsed: true
    - title: subDir back
    path: test
    noScan: true
    file: README
---
```

:::

::: tip Tip

If you are using the VSCode editor to contribute to this site, you can use our predefined code snippets. For non-object types of configuration fields, you can directly type their names to trigger autocompletion. For the `root` object and `SubDir` object, you can use `@root` and `@subdir` respectively to trigger the corresponding snippets.

:::

## Frontmatter Declaration {#frontmatter}

At the beginning of each Markdown file, use `---` to create frontmatter configuration.

```yaml
---
# Add your frontmatter here
---
```

<!-- ## Basic Configuration

At the beginning of each Markdown file, use `---` to separate the frontmatter configuration section:

```yaml
---
# Add your frontmatter here
---
```

# Document content starts from here

Available frontmatter configurations

| Configuration Field | Purpose                                  | Type    | Example |
|---------------------|------------------------------------------|---------|---------|
| `title`             | Sets the title of the document             | string  | `title: Getting Started` |
| `sidetitle`         | Sets the title displayed in the sidebar (if not set, the title will be used) | string  | `sidetitle: Quick Start` |
| `sidebarorder`      | Customizes the order of documents and subdirectories in the current directory | object  | `sidebarorder: \n    index: -1 \n    introduction: 1 \n    advanced: 2` |
| `tagDisplay`        | Enables tag grouping display               | boolean | `tagDisplay: true` |
| `back`              | Customizes the path to return to the parent directory | string  | `back: /guide/` |
| `autoPN`            | Automatically generates previous and next navigation | boolean | `autoPN: true` |
| `tagorder`          | Customizes the order of tags               | object  | `tagorder: \n    Basics: 1 \n    Advanced: 2` |
| `folderBlackList`   | Specifies the list of folders to exclude from the sidebar | array   | `folderBlackList: \n    - private \n    - drafts` |
| `generateSidebar`   | Includes the current `index.md` file in the sidebar | boolean | `generateSidebar: true` |
| `tag`               | Specifies a tag for the document (used for tag grouping display) | string  | `tag: Basics` |

Complete example
Here is an example of the frontmatter configuration for an index.md file that includes all available configurations:

```yaml
---
title: VitePress Guide
sidetitle: User Guide
sidebarorder:
  index: -1
  quickstart: 1
  configuration: 2
  advanced: 3
tagDisplay: true
back: /documentation/
autoPN: true
tagorder:
  Basics: 1
  Configuration: 2
  Advanced: 3
folderBlackList:
  - private
  - drafts
generateSidebar: true
tag: Documentation
---
```

```md
# VitePress Guide

This document will help you get started with VitePress...
Using these frontmatter configurations, you can have precise control over how the document is displayed in the sidebar, including the order, enabling tag grouping, and automatically generating navigation. This Markdown file focuses on how to configure the sidebar generator using frontmatter. It provides detailed information about each available frontmatter configuration field.
``` -->
